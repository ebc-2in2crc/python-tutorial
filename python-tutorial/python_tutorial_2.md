# 2. Python インタプリタを使う

## 起動、終了方法

- インタプリタの終了方法: ファイル終端文字 (Unixでは Control-D 、DOS や Windows では Control-Z) を一次プロンプト (訳注: '>>>' のこと) に入力すると、インタプリタが終了ステータス 0 で終了します。もしこの操作がうまく働かないなら、コマンド: quit() と入力すればインタプリタを終了できます
- GNU Readline ライブラリをサポートしているシステム上では、対話的行編集やヒストリ置換、コード補完のインタプリタの行編集機能が利用できる
- インタプリタは Unix シェルと同じように使えます。標準入力が端末に接続された状態では、コマンドを対話的に読み込んで実行します。ファイル名を引数に指定するか、`python3 < filename` のように標準入力ファイルとして指定すると、インタプリタはファイルから スクリプト を読み込んで実行
- `python -c command [arg] ...` のように起動する方法もある
- `python -m module [arg] ...` のように起動すると、 module のソースファイルを、フルパスを指定して起動したかのように実行出来る
  - この方法は、モジュールをスクリプトとして実行する標準的な方法で、特に開発やデバッグの際に非常に便利
  - httpサーバーの起動: `python3 -m http.server 8000`
  - JSON データの整形: `echo '{"name":"John","age":30}' | python3 -m json.tool`
  - zip ファイルの作成: `python3 -m zipfile -c archive.zip file1.txt file2.txt`
- コマンドラインオプション: [コマンドラインと環境](https://docs.python.org/ja/3/tutorial/interpreter.html)

## 引数の受け渡し

- スクリプト名やスクリプト名以後に指定した引数は文字列のリストに変換されて `sys` モジュールの `argv` 変数に格納される
- `import sys` とすることでこのリストにアクセスできる
- `sys.argv` 少なくとも一つ要素が入っています。スクリプト名も引数も指定しなければ、 `sys.argv[0]` は空の文字列になります。
- 詳しくは: https://docs.python.org/ja/3/tutorial/interpreter.html#argument-passing

## 対話モード

- 一次プロンプト (primary prompt): 普通は `>>>`
- 継続行では二次プロンプト (secondary prompt) が表示される: 普通は `...`

## 2.2.1. ソースコードの文字コード

- デフォルトでは、Python のソースコードは UTF-8 でエンコードされているものとして扱われる
- 準ライブラリは識別子に ASCII 文字のみを利用していて、その他のポータブルなコードもその慣習に従うべきです
- デフォルトエンコーディング以外のエンコーディングを使用するには、ファイルの 先頭 の行に特別なコメントを追加しなければなりません
  ```python
  # -*- coding: encoding -*-
  ```
- ソースコードが UNIX "shebang" 行 で始まる場合には、エンコーディングの宣言はファイルの2行目に追加します。
   ```python
   #!/usr/bin/env python3
   # -*- coding: cp1252 -*-
   ```