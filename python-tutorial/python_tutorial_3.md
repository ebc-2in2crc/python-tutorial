# 3. 形式ばらない Python の紹介

- Python のコメントは `#` で始まり、物理行の末尾まで続く
- コメントは文字列リテラルの中には書けない

## 3.1. Python を電卓として使う

- 算術演算を行うことができる
- 除算 (`/`) は常に浮動小数点数 (`float`) を返す
- 整数除算 (`//`) は整数値 (`int`) を返す
- 剰余 (`%`)
- べき乗 (`**`)
- 変数が "定義" されていない (つまり値が代入されていない) 場合、その変数を使おうとするとエラーが発生します
- 対話モードでは、最後に表示された結果は変数 `_` に代入される。
  この変数には読取りだけを行い、明示的な代入を行ってはいけません。同じ名前で別のローカル変数が生成されてしまう。

### 3.1.2. テキスト

- 文字列 (`str`)
- 文字列はシングルクォート、またはダブルクォートで囲む
- クォートの中でクォートを使いたい場合は `\` でエスケープする。もしくは、文字列で使用したクォートとは別のほうのクォートで囲むこともできる
- `print()` 関数を使うと、両端のクォートがなくなり、エスケープされた文字や特殊文字が表示される
- raw strings
  - `\` に続く文字を特殊文字として解釈されたくない場合は、最初の引用符の前に `r` を付ける
  - 例: `print(r'C:\some\name')`
  - raw strings は 奇数個の ```` 文字では終了できない
- 文字列リテラル
  - 複数行にまたがって書ける。三連引用符 (`"""..."""` や `'''...'''`) を使う 
  - 改行文字は自動的に文字列に含まれますが、行末に `\` を付けることで含めないようにすることもできます
- 文字列は `+` で連結でき、`*` で反復できる
- 連続して並んでいる複数の文字列リテラルは、自動的に連結される。長い文字列を改行したいときにとても役に立ちます
- 文字列は インデックス (添字) を指定して文字を取得できる。
  - 最初の文字のインデックスは 0。インデックスには負の値も指定でき、末尾から数えられる。つまり -1 は最後の文字
  - 文字を表す専用のデータ型は用意されていない。文字とは、単に長さが 1 の文字列です
- スライスを使うと部分文字列を取得できる。
  - `'world'[0:2]` は `wo`
  - 一番目のインデックスのデフォルト値: 0
  - 二番目のインデックスのデフォルト値: スライスする文字列のサイズ
  - 開始値は常に含まれ終了値は常に含まれない。つまり、`s[:i] + s[i:]` は常に `s` と等しくなる
- Python の文字列は不変
- `len` 関数は文字列の長さを返す

### 3.1.3. リスト型 (list)

- リストの書き方: コンマ区切りの値 (要素) の並びを角括弧で囲む
- リストは異なる型の要素を含むこともありますが、通常は同じ型の要素のみを含める
- リストはシーケンス型であり、インデックスやスライスができる
- リスト同士を連結することもできる。`[1, 2] + [3, 4]` は `[1, 2, 3, 4]` になる
- リストは可変
- `list.append()`: リストの末尾に要素を追加する
- リストを変数に代入すると、その変数は 既存のリスト を参照する。データはコピーされない
- スライス操作は指定された要素を含む新しいリストを返す (shallow-copy)
- スライスには代入もできる
  - スライスの代入でリストのサイズを変更したり、全てを削除したりもできる
    ```python
    a = [1, 2, 3, 4]
    a[1:3] = [-1] # [1, -1, 4]
    ```
- リストは入れ子にできる。
  ```python
  a = [1, 2, [33, 44]]       # [1, 2, [33, 44]]
  b = [1, 2, [33, 44]][2]    # [33, 44]
  c = [1, 2, [33, 44]][2][0] # 33
  ```
  
3.2. プログラミングへの第一歩

- 複数同時の代入 (multiple assignment): `a, b = 0, 1`
- `print` 関数
  - キーワード引数 `end` を使うと、出力の末尾に改行文字を出力しないようにしたり、別の文字列を末尾に出力したりできます 
  - `print(a, end=',')`
  ```python
  a = 0
  while a < 3:
      print(a, end=',') # 0,1,2
      a = a + 1
  
  a = 0
  while a < 3:
      print(a, end='') # 012
      a = a + 1
  ```